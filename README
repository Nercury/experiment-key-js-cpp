Failed experiment of plugging C++ code into js. Still useful as reference.